CaseOpeningSim WBS

0.0 CaseOpeningSim (C implementation)

1.0 Core Simulation Engine
	1.1 PRNG Subsystem (xoshiro256++, Wincrpyt seeding) [DONE]
		1.1.1 xoshiro256++ implementation [DONE]
		1.1.2 Modify to incorporate Wincrypt seeding [DONE]
		1.1.3 Expose Public RNG Generator API (genNext, genNextInRange) [TODO]
			1.1.3.1 Define generator.h interface [DONE]
			1.1.3.2 Implement generator.c functions with xoshiro256++ state & Wincrypt [DONE]
			1.1.3.3 Add basic Unit Tests [TODO]
	1.2 Simulation Loop
		1.2.1 Ask user for number of executions [DONE]
			1.2.1.1 Validate input (positive, reasonable max) [DONE]
		1.2.2 Initialize simulation state (counters, totals) [TODO]
		1.2.3 Run the simulation with threads [TODO]
		1.2.4 Aggregate thread results into global statistics [TODO]
		1.2.5 Print basic summary of results to stdout [TODO]
	1.3 Thread Management
		1.3.1 Design thread work distribution [TODO]
			1.3.1.1 Decide how many trials each thread gets [TODO]
			1.3.1.2 Define thread worker function signature [TODO]
		1.3.2 Implement mutex/atomic access to shared resources [TODO]
			1.3.2.1 Protect global counters / aggregates [TODO]
		1.3.3 Join all threads & clean up used resources [TODO]
			1.3.3.1 pthread_join all worker threads [TODO]
			1.3.3.2 Free all dynamically allocated thread data [TODO]
	1.4 Logging & Results Storage
		1.4.1 Ask user for logging type: (add to default, create new, add to existing) [TODO]
			1.4.1.1 Add to default	
				1.4.1.1.1 Open default logging file (append mode) [TODO]
				1.4.1.1.2 Append results into default logging file [TODO]
			1.4.1.2 Create new 
				1.4.1.2.1 Ask user for file name [TODO]
				1.4.1.2.2 See if file already exists [TODO]
				1.4.1.2.3 Create file or abort/confirm overwrite [TODO]
				1.4.1.2.4 Write results into new file [TODO]
			1.4.1.3 Add to Existing 
				1.4.1.3.1 Ask user for existing file name [TODO]
				1.4.1.3.2 See if file exists (err if no) [TODO]
				1.4.1.3.3 Open existing file (append mode) and write results [TODO]
				
2.0 Case Definitions and Parsing
	2.1 CSV Parsing and Validation [TODO]
		2.1.1 Define expected CSV format [TODO]
		2.1.2 Implement CSV line reading [TODO]
		2.1.3 Parse fields into temporary structs [TODO]
		2.1.4 Validate numeric fields [TODO]
		2.1.5 Normalize all probabilities (approx 1.0) [TODO]
		2.1.6 Handle mangled lines with clear error messages [TODO]
	2.2 Case Object Data Structure Definition [DONE]
		2.2.1 Define CaseItem struct [DONE]
		2.2.2 Define CaseDef struct [DONE]
		2.2.3 Implement case normalization (sorting by probability, trimming names) [TODO]
	2.3 Local Case "Database" Management [TODO]
		2.3.1 Choose storage format (CSV) [DONE]
		2.3.2 Implement loading all stored cases into memory [TODO]
		2.3.3 Implement saving updated case list back to disk [TODO]
		2.3.4 (Probably not going to bother) Implement case modification [TODO?]
		2.3.5 Implement duplicate case / already existing similar case detection [TODO]
			2.3.5.1 Normalize new case [TODO]
			2.3.5.2 Compare against existing cases
			2.3.5.3 Define policy, ask user to drop addition or replace existing case
	2.4 Interactive Case Creation (Prompting User) [TODO]
		2.4.1 Prompt user for case cost and name [TODO]
		2.4.2 Prompt user for item list (name,odds,value) [TODO]
		2.4.3 Validate and normalize user-entered case [TODO]
		2.4.4 Save case to local "database" [TODO]

3.0 User Interface
	3.1 Mode Selection Menu (Simulation, Import, Analysis) [DONE]
		3.1.1 Display main menu with options [DONE]
		3.1.2 Handle menu selection input/validation [DONE]
		3.1.3 Route user to correct mode handler [DONE]
	3.2 CLI Input Handling [TODO]
		3.2.1 Implement helper functions for reading ints/floats safely [TODO]
		3.2.2 Implement Y/N confirmation prompts [TODO]
	3.3 Output Formatting [TODO]
		3.3.1 Design summary output format (num trials, ROI, etc.) [TODO]
		3.3.2 Implement readable case definition printing [TODO]
		3.3.3 Implement formatted logging [TODO]
	
4.0 Data Analysis
	4.1 ROI Calculation [TODO]
		4.1.1 Compute EV per opening from case definition [DONE]
		4.1.2 Compute experienced ROI from simulation results [TODO]
	4.2 Statistical Summary (mean, variance, profit margin) [TODO]
		4.2.1 Track per-run results needed for mean/variance [TODO]
		4.2.2 Implement calculation of mean, variance, standard deviation [TODO]
		4.2.3 Compute profit margin vs case cost [TODO]
	4.3 Graph Generation (probably not a C feature I want to implement)
		4.3.1 Export CSV logged data for external graphing tools [TODO]
	
5.0 Testing & Validation
	5.1 Unit Tests for RNG Generator and CSV Parser [TODO]
		5.1.1 Test RNG Generator API returns varied values with no obvious bias [TODO]
		5.1.2 Test CSV parser with both valid and invalid inputs [TODO]
	5.2 Concurrency Stress Testing
		5.2.1 Run high-trial count simulations with many threads [TODO]
		5.2.2 Check for any crashes, deadlocks, and incorrect aggregations [TODO]
	5.3 Accuracy Validation (expected probabilities comparison)
		5.3.1 Compare experienced frequencies with actual frequencies [TODO]
		5.3.2 Validate experienced ROI vs calculated EV [TODO]
		
6.0 Docs
	6.1 README and Build Instructions [TODO]
		6.1.1 Document any dependencies and how to build project [TODO]
		6.1.2 Document usage examples [TODO]
	6.2 CSV Formatting Guide
		6.2.1 Explain required columns & types [TODO]
		6.2.2 Provide example case CSV(s) [TODO]
	6.3 Personal Statistical Analysis Report Case Study
		6.3.1 Run simulations on sample cases [TODO]
		6.3.2 Final write up on risks of gambling, ROI, etc [TODO]